{{define "title"}}Target URL{{end}}

{{define "head"}}{{end}}

{{define "content"}}

<!-- TAMBAH URL BARU -->
<div class="card">
    <h2 class="card-title">
        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
            <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" />
        </svg>
        Create New URL
    </h2>
    <form action="/add" method="POST" class="input-group">
        <input type="text" name="url" placeholder="Contoh: cloudtech.id" required>
        <select name="mode">
            <option value="http">HTTP</option>
            <option value="tcp">TCP</option>
            <option value="icmp">ICMP</option>
        </select>
        <input type="number" name="thread_count" placeholder="Thread" min="1" value="1" style="max-width: 120px;">
        <button type="submit" class="btn">
            <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
            </svg>
            Add
        </button>
    </form>
</div>

<!-- DAFTAR TARGET URL -->
<div class="card">
    <h2 class="card-title">
        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
            <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" />
        </svg>
        URL List
    </h2>
    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zM11 7h2v2h-2zm0 4h2v6h-2z" />
                        </svg>
                        <span>Status</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
                        </svg>
                        <span>URL</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" />
                        </svg>
                        <span>Mode</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        <span>Thread</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" />
                        </svg>
                        <span>Status Code</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z" />
                        </svg>
                        <span>Latency (Last)</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z" />
                        </svg>
                        <span>Latency (Avg)</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                        <span>Uptime</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" />
                        </svg>
                        <span>Last Checked</span>
                    </th>
                    <th>
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" />
                        </svg>
                        <span>Action</span>
                    </th>
                </tr>
            </thead>
            <tbody id="urls_tbody">
                {{range .URLs}}
                <tr>
                    <td>
                        {{if .IsUp}}
                        <span class="status-badge status-up">Up</span>
                        {{else}}
                        <span class="status-badge status-down">Down</span>
                        {{end}}
                    </td>
                    <td>
                        <a href="{{.URL}}" class="url-link" target="_blank">{{.URL}}</a>
                    </td>
                    <td>
                        <span class="status-code">{{.ProbeMode}}</span>
                    </td>
                    <td>
                        <span class="status-code">{{.ThreadCount}}</span>
                    </td>
                    <td>
                        <span class="status-code">{{.LastStatus}}</span>
                    </td>
                    <td class="latency">{{.LastLatencyMs}} ms</td>
                    <td class="latency">{{.GetAverageLatency}}</td>
                    <td>{{.GetUptime}}</td>
                    <td class="date-time">{{.LastChecked.Format "2 Jan 15:04:05"}}</td>
                    <td>
                        <a href="/delete/{{.ID}}" class="action-delete"
                            onclick="return confirm('Yakin ingin menghapus {{.URL}}?')">
                            <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                            </svg>
                            Delete
                        </a>
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="10" class="empty-state">No URLs available. Please add one.</td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>

{{end}}